name: Dart CI

on:
  push:
    branches: 
      - master
      - develop
      - release/*

jobs:
  test:
    name: Test on ${{ matrix.os }}
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest, macos-latest]

    steps:
      - uses: actions/checkout@v1
      - uses: actions/setup-java@v1
        with:
          java-version: '12.x'
      - uses: subosito/flutter-action@v1
        with:
          # flutter-version: '1.11.0'
          channel: 'stable'
        name: Installing dependencies
      - run: flutter pub get
      - run: flutter test
      - run: flutter build apk
# jobs:
#   build:

#     runs-on: ubuntu-latest

#     container:
#       image:  google/dart:latest

#     steps:
#     - uses: actions/checkout@v2
#     - name: Install dependencies
#       run: flutter pub get
#     - name: Run tests
# <<<<<<< HEAD
#       run: flutter test
# =======
#       run: flutter pub test
# >>>>>>> release/0.1.0
